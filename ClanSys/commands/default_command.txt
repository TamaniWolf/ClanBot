
//Discord const
const Discord = require('discord.js');
const { PermissionsBitField, SlashCommandBuilder } = Discord;
const { DateTime } = require('luxon');
const timeFormat = 'LL'+'/'+'dd'+'/'+'yyyy'+'-'+'h'+':'+'mm'+':'+'ss'+'-'+'a';
const format2 = 'yyyy'+'-'+'LL'+'-'+'dd'+"'T'"+'hh'+':'+'mm'+':'+'ss'+'.'+'SSS'+'ZZ';
require('dotenv').config();
module.exports = {
	data: new SlashCommandBuilder()
		.setName('')
		.setDescription('')
		.setDMPermission(true)
		.setDefaultMemberPermissions(PermissionsBitField.Flags.SendMessages)
	,
    prefix: 'true',    // Prefix = 'true', No Prefix = 'false', Slash Command = '/'.
    nsfw: 'false',       // NSFW variable = 'true', No NSFW variable = 'false'.
    admin: 'true',      // Admin Command = 'true', No Admin Command = 'false'.
	async execute(interaction) {
		if (interaction != null || interaction.channel.id != null || interaction.guild.id != null) {
			// SQLite
			const SQLite = require("better-sqlite3");
			const sql_Onoff = new SQLite('./Database/sqlite/config/onoff.sqlite');
			// Get
			interaction.client.getLang = sql_Onoff.prepare("SELECT * FROM lang WHERE LangID = ?");
			interaction.client.getCommandMember = sql_Onoff.prepare("SELECT * FROM command_admin WHERE OnOffID = ?");
			// Data Null
			let dataLang;
			let dataCommandMember;
			// Data Get
			let getChannelID = `${interaction.guild.id}-${interaction.channel.id}`;
			dataLang = interaction.client.getLang.get(interaction.guil.id);
			dataCommandMember = interaction.client.getCommandMember.get(getChannelID);
			// Data Check
			if (dataLang == null) { dataLang = { LangFile: `.Database/lang/en_US.json` }; };
			if (dataCommandMember) { dataCommandMember = { Default: 'true' }; };
			// Context
			if (dataCommandMember.Default === 'true') {
				const lang = require('../../.' + dataConfig.Lang);
				
				console.log('[' + DateTime.utc().toFormat(timeFormat) + ']' + lang.prefix.clan, lang.default.log);
			} else {
				await interaction.reply({ content: 'This command is not available right now.', ephemeral: true });
			};
		} else {
			console.error(`[${DateTime.utc().toFormat(timeFormat)}][ClanBot] Interaction of Command \'default\' returned \'null / undefined\'.`);
		};
	},
};